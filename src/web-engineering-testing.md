# 自动化测试 Testing

::: tip

测试一定是在你最担心的地方去进行测试。而不要为了追求测试而去做测试。

所以说，测试只是我们检验代码是否可靠的一种工具，而不是目标。

:::

## 1. 测试是什么？

测试的本质，就是我们在生产代码写完之后，上线之前，需要我们对代码的正确性进行验证的一个工作。

为了完成这个测试工作，一般会有以下两种思路：

1. 手动测试：靠人力一次又一次地重复测试动作。
2. 自动测试`推荐`：靠代码记录测试动作，不仅可以复用之前的测试动作，可以不断地优化测试代码。

## 2. 我们为什么要做自动化测试？

自动化测试能够给我们带来如下价值：

1.  能够保留测试动作，便于下次调试。
2.  能让我们得到快速反馈，无论是修改、还是重构代码，都能增加我们的信心。
    - 当我们在修改 Bug、或新增功能的时候，能够检测到是否老功能产生影响，并快速得到反馈。
    - 当我们需要重构，改善代码质量的时候，能够检测快速地检验老功能是否正常，让我们更有底气。
3.  测试就相当于是一份活文档`可执行文档`,因为在写单测的时候就会记录下该功能的行为、输入、以及输出。
4.  能够改善测试设计，因为你的程序设计得很难的话，根本没有办法写单测。

## 3. 怎么样做好自动化测试？

这里以“测试金字塔模型”为例，介绍如何完成自动化测试？

测试金字塔模型是一种基于分层测试的策略模型，将软件测试分为不同层次和不同类型的测试，以确保测试覆盖面和质量。测试金字塔模型通常包含以下 3 个层次：

1. 自动化单元测试：主要用于测试代码中的最小单元（例如函数或方法），通常使用单元测试框架进行自动化测试。
2. 自动化服务级测试：主要测试应用程序服务的功能，包括 API 和 Web 服务，通常使用自动化测试工具。
3. 手动 UI 测试：主要测试应用程序的用户界面，以确保界面的正确性和用户友好性。手动 UI 测试可以包括功能测试、用户体验测试和可用性测试等。

测试金字塔模型的目的是将测试重心从手动测试逐层向自动化测试转移，减少手动测试的时间和成本，并提高测试效率和质量。这种分层测试的策略可以帮助测试人员优化测试过程，并确保测试覆盖到软件的各个方面。

::: warning Title:自动化测试分类

1. 单元测试：用于测试软件应用程序中的各个独立单元或组件的功能。它可以帮助开发人员验证每个单元的正确性、性能和可靠性，以确保整个应用程序的质量和稳定性。`不依赖任何外部环境，测试数据全部模拟；编写成本低；反馈快（s），降低缺陷修复成本。所以，尽量将测试覆盖面积控制在 60% - 80%。`
2. 集成测试：用于测试已经通过单元测试的软件组件之间的交互和集成。它的目的是检测不同组件之间的接口和交互是否符合预期，以验证系统整体的功能和性能。集成测试通常是在单元测试之后进行的，它可以帮助开发人员发现系统级别的问题，并确保不同组件在系统级别上能够无缝地协作工作。`对外部环境有一定的依赖，测试数据部分模拟；成本可控，反馈快（min）。所以，只针对功能级别的 HappyPath 进行测试覆盖。`
3. 系统级别的测试`在代码仓库之外编写，不模拟数据，完全使用真实环境，但是成本高，反馈慢(day)。所以，只保证核心业务，从而控制成本。

:::
